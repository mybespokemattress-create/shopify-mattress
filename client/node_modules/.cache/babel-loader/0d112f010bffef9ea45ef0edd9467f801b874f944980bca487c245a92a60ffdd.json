{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Angelo\\\\shopify-mattress-processor\\\\client\\\\src\\\\components\\\\OrderProcessor.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Download, Mail, Edit3, Save, X } from 'lucide-react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst OrderProcessor = () => {\n  _s();\n  var _selectedOrder$lineIt;\n  const [orders, setOrders] = useState([]);\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [editMode, setEditMode] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const getDiagramImageUrl = diagramNumber => {\n    if (!diagramNumber) return null;\n    return `/images/diagrams/Shape_${diagramNumber}_Caravan_Mattress_Measuring_Diagram.jpg`;\n  };\n  const transformApiOrder = apiOrder => {\n    var _apiOrder$order_data, _apiOrder$order_data$, _apiOrder$order_numbe, _apiOrder$order_numbe2, _apiOrder$order_numbe3, _apiOrder$order_numbe4, _apiOrder$order_data2, _apiOrder$order_data3, _apiOrder$order_data4, _apiOrder$order_data5, _lineItems$, _lineItems$2;\n    const orderData = apiOrder.order_data || {};\n    let diagramNumber = null;\n    const lineItems = (_apiOrder$order_data = apiOrder.order_data) === null || _apiOrder$order_data === void 0 ? void 0 : (_apiOrder$order_data$ = _apiOrder$order_data.order_data) === null || _apiOrder$order_data$ === void 0 ? void 0 : _apiOrder$order_data$.line_items;\n    if (lineItems && lineItems[0] && lineItems[0].properties) {\n      const diagramProperty = lineItems[0].properties.find(prop => prop.name === 'Diagram Number');\n      diagramNumber = diagramProperty ? diagramProperty.value : null;\n    }\n    let linkAttachment = 'One Piece Mattress No Link Required';\n    let deliveryOption = 'Rolled and Boxed';\n    if (lineItems && lineItems[0] && lineItems[0].variant_title) {\n      const variantTitle = lineItems[0].variant_title;\n      const productTitle = lineItems[0].title || lineItems[0].name || '';\n      if (variantTitle.includes('Leave Bolster Loose')) {\n        linkAttachment = 'Leave Bolster Loose';\n      } else if (variantTitle.includes('Leave Sections Loose')) {\n        linkAttachment = 'Leave Sections Loose';\n      } else if (variantTitle.includes('Fabric Link')) {\n        linkAttachment = 'Fabric Link (+£40)';\n      } else if (variantTitle.includes('Zip-Link')) {\n        linkAttachment = 'Zip-Link (+£40)';\n      } else {\n        if (productTitle.toLowerCase().includes('bolster')) {\n          linkAttachment = 'Leave Bolster Loose';\n        } else if (productTitle.toLowerCase().includes('section')) {\n          linkAttachment = 'Leave Sections Loose';\n        } else {\n          linkAttachment = 'One Piece Mattress No Link Required';\n        }\n      }\n    }\n    let store = 'UNKNOWN';\n    if (apiOrder.mattress_label === 'Motorhome Mattresses') store = 'MOTO';else if (apiOrder.mattress_label === 'My Bespoke Mattresses') store = 'MYBE';else if (apiOrder.mattress_label === 'Caravan Mattresses') store = 'CARA';else if (apiOrder.mattress_label === 'MotorhomeMattresses') store = 'MOTO';else if (apiOrder.mattress_label === 'MyBespokeMattresses') store = 'MYBE';else if (apiOrder.mattress_label === 'CaravanMattresses') store = 'CARA';else if ((_apiOrder$order_numbe = apiOrder.order_number) !== null && _apiOrder$order_numbe !== void 0 && _apiOrder$order_numbe.includes('MOTO')) store = 'MOTO';else if ((_apiOrder$order_numbe2 = apiOrder.order_number) !== null && _apiOrder$order_numbe2 !== void 0 && _apiOrder$order_numbe2.includes('MYBE')) store = 'MYBE';else if ((_apiOrder$order_numbe3 = apiOrder.order_number) !== null && _apiOrder$order_numbe3 !== void 0 && _apiOrder$order_numbe3.includes('CARA')) store = 'CARA';else if ((_apiOrder$order_numbe4 = apiOrder.order_number) !== null && _apiOrder$order_numbe4 !== void 0 && _apiOrder$order_numbe4.includes('BESP')) store = 'MYBE';\n    const measurements = ((_apiOrder$order_data2 = apiOrder.order_data) === null || _apiOrder$order_data2 === void 0 ? void 0 : (_apiOrder$order_data3 = _apiOrder$order_data2.order_data) === null || _apiOrder$order_data3 === void 0 ? void 0 : (_apiOrder$order_data4 = _apiOrder$order_data3.extracted_measurements) === null || _apiOrder$order_data4 === void 0 ? void 0 : (_apiOrder$order_data5 = _apiOrder$order_data4[0]) === null || _apiOrder$order_data5 === void 0 ? void 0 : _apiOrder$order_data5.measurements) || {};\n    const properties = {};\n    const dimensions = ['A', 'B', 'C', 'D', 'E', 'F', 'G'];\n    dimensions.forEach(dim => {\n      const measurement = measurements[dim];\n      if (measurement) {\n        if (typeof measurement === 'object' && 'value' in measurement) {\n          const displayValue = measurement.unit ? `${measurement.value} ${measurement.unit}` : measurement.value;\n          properties[`Dimension ${dim}`] = displayValue;\n        } else {\n          properties[`Dimension ${dim}`] = String(measurement);\n        }\n      } else {\n        properties[`Dimension ${dim}`] = '';\n      }\n    });\n    return {\n      id: apiOrder.id.toString(),\n      store: store,\n      orderNumber: apiOrder.order_number || 'Unknown',\n      customer: {\n        name: apiOrder.customer_name || 'Unknown Customer',\n        email: apiOrder.customer_email || ''\n      },\n      orderDate: apiOrder.created_date ? new Date(apiOrder.created_date).toISOString().split('T')[0] : '',\n      status: apiOrder.processing_status === 'received' ? 'pending_review' : 'ready_to_send',\n      emailSent: apiOrder.email_sent || false,\n      lineItems: [{\n        sku: orderData.sku || (lineItems === null || lineItems === void 0 ? void 0 : (_lineItems$ = lineItems[0]) === null || _lineItems$ === void 0 ? void 0 : _lineItems$.sku) || 'Unknown SKU',\n        productTitle: (lineItems === null || lineItems === void 0 ? void 0 : (_lineItems$2 = lineItems[0]) === null || _lineItems$2 === void 0 ? void 0 : _lineItems$2.title) || 'Unknown Product',\n        quantity: 1,\n        properties: properties\n      }],\n      supplierCode: orderData.supplierSpecification || '',\n      shapeNumber: orderData.shapeNumber || '',\n      diagramNumber: diagramNumber,\n      shapeDiagramUrl: getDiagramImageUrl(diagramNumber),\n      linkAttachment: linkAttachment,\n      deliveryOption: deliveryOption,\n      totalPrice: apiOrder.total_price,\n      supplierName: apiOrder.supplier_name || orderData.supplierName,\n      rawMeasurements: measurements,\n      notes: apiOrder.notes || '',\n      mattressLabel: apiOrder.mattress_label || 'CaravanMattresses'\n    };\n  };\n  const fetchOrders = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      const response = await fetch('/api/orders');\n      if (!response.ok) {\n        throw new Error(`Failed to fetch orders: ${response.status}`);\n      }\n      const apiResponse = await response.json();\n      const ordersArray = apiResponse.orders || [];\n      const transformedOrders = ordersArray.map(transformApiOrder);\n      setOrders(transformedOrders);\n    } catch (err) {\n      console.error('Error fetching orders:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchOrders();\n    const interval = setInterval(fetchOrders, 30000);\n    return () => clearInterval(interval);\n  }, []);\n  const handleOrderSelect = order => {\n    if ((selectedOrder === null || selectedOrder === void 0 ? void 0 : selectedOrder.id) === order.id) {\n      setSelectedOrder(null);\n      setEditMode(false);\n    } else {\n      setSelectedOrder({\n        ...order\n      });\n      setEditMode(false);\n    }\n  };\n  const handleEdit = () => setEditMode(true);\n  const handleSave = async () => {\n    try {\n      const response = await fetch(`/api/orders/${selectedOrder.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          processing_status: selectedOrder.status === 'ready_to_send' ? 'processed' : 'received',\n          notes: selectedOrder.notes,\n          mattress_label: selectedOrder.mattressLabel\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to update order');\n      }\n      setOrders(orders.map(order => order.id === selectedOrder.id ? selectedOrder : order));\n      setEditMode(false);\n    } catch (err) {\n      console.error('Error saving order:', err);\n      alert('Failed to save order changes');\n    }\n  };\n  const handleCancel = () => {\n    const originalOrder = orders.find(order => order.id === selectedOrder.id);\n    setSelectedOrder({\n      ...originalOrder\n    });\n    setEditMode(false);\n  };\n  const updateOrderField = (field, value) => {\n    setSelectedOrder(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const updateCustomerField = (field, value) => {\n    setSelectedOrder(prev => ({\n      ...prev,\n      customer: {\n        ...prev.customer,\n        [field]: value\n      }\n    }));\n  };\n  const updateMeasurement = (dimension, value) => {\n    setSelectedOrder(prev => ({\n      ...prev,\n      lineItems: prev.lineItems.map(item => ({\n        ...item,\n        properties: {\n          ...item.properties,\n          [dimension]: value\n        }\n      }))\n    }));\n  };\n  const generatePDF = async () => {\n    try {\n      console.log('Generating PDF for order:', selectedOrder.orderNumber);\n      const response = await fetch('/api/pdf/generate', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          order: selectedOrder\n        })\n      });\n      if (!response.ok) {\n        throw new Error('Failed to generate PDF');\n      }\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `Order_${selectedOrder.orderNumber}_${selectedOrder.customer.name.replace(/\\s+/g, '_')}.pdf`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      window.URL.revokeObjectURL(url);\n    } catch (err) {\n      console.error('Error generating PDF:', err);\n      alert('Failed to generate PDF');\n    }\n  };\n  const getSupplierEmail = supplierName => {\n    const supplierEmails = {\n      'Southern Production': 'mbm@southernfoam.co.uk',\n      'Mattressshire Production': 'mattressshire.wmltd@gmail.com'\n    };\n    return supplierEmails[supplierName] || 'orders@bespokemattresscompany.com';\n  };\n  const openZohoMail = () => {\n    console.log('Supplier name:', selectedOrder.supplierName);\n    const supplierEmail = getSupplierEmail(selectedOrder.supplierName);\n    const subject = `Purchase Order ${selectedOrder.orderNumber} - ${selectedOrder.customer.name}`;\n    const zohoUrl = `https://mail.zoho.com/zm/#compose?to=${encodeURIComponent(supplierEmail)}&subject=${encodeURIComponent(subject)}`;\n    window.open(zohoUrl, '_blank');\n    alert('Zoho Mail opened with supplier details pre-filled. Please attach PDF and send.');\n  };\n  const markOrderAsSent = async () => {\n    console.log('=== markOrderAsSent DEBUG ===');\n    console.log('selectedOrder:', selectedOrder);\n    console.log('selectedOrder.id:', selectedOrder === null || selectedOrder === void 0 ? void 0 : selectedOrder.id);\n    if (!(selectedOrder !== null && selectedOrder !== void 0 && selectedOrder.id)) {\n      console.log('ERROR: No order ID found!');\n      return;\n    }\n    try {\n      console.log('About to make PUT request to:', `/api/orders/${selectedOrder.id}`);\n      const response = await fetch(`/api/orders/${selectedOrder.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email_sent: true\n        })\n      });\n      console.log('Response status:', response.status);\n      console.log('Response ok:', response.ok);\n      if (response.ok) {\n        console.log('Database update successful');\n        setOrders(orders.map(order => order.id === selectedOrder.id ? {\n          ...order,\n          emailSent: true\n        } : order));\n        setSelectedOrder(prev => ({\n          ...prev,\n          emailSent: true\n        }));\n      } else {\n        console.log('Database update failed');\n      }\n    } catch (err) {\n      console.error('Error in markOrderAsSent:', err);\n    }\n  };\n  const filteredOrders = orders.filter(order => order.orderNumber.toLowerCase().includes(searchTerm.toLowerCase()) || order.customer.name.toLowerCase().includes(searchTerm.toLowerCase()));\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-slate-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-slate-600\",\n          children: \"Loading orders...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 309,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-slate-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-600 mb-4\",\n          children: [\"Error loading orders: \", error]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: fetchOrders,\n          className: \"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\",\n          children: \"Retry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-slate-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border-b shadow-sm\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-6 py-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-slate-900\",\n              children: \"Bespoke Mattress Order Processor\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-slate-600 mt-1\",\n              children: \"Review and process Shopify orders before sending to suppliers\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-slate-500\",\n            children: [orders.length, \" orders loaded\", /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: fetchOrders,\n              className: \"ml-2 px-3 py-1 bg-blue-100 text-blue-700 rounded text-xs hover:bg-blue-200\",\n              children: \"Refresh\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow border\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 border-b bg-slate-50\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: \"text-lg font-semibold mb-3\",\n                children: \"Orders Queue\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 366,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Search orders...\",\n                className: \"w-full px-3 py-2 border rounded-lg\",\n                value: searchTerm,\n                onChange: e => setSearchTerm(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"max-h-96 overflow-y-auto\",\n              children: filteredOrders.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-4 text-center text-slate-500\",\n                children: searchTerm ? 'No orders match your search' : 'No orders found'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 19\n              }, this) : filteredOrders.map(order => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `p-4 border-b cursor-pointer hover:bg-slate-50 ${(selectedOrder === null || selectedOrder === void 0 ? void 0 : selectedOrder.id) === order.id ? 'bg-blue-50' : ''}`,\n                onClick: () => handleOrderSelect(order),\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center gap-2 mb-1\",\n                      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"font-semibold text-sm\",\n                        children: order.orderNumber\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 393,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `px-1.5 py-0.5 rounded text-xs font-medium ${order.store === 'MOTO' ? 'bg-purple-100 text-purple-700' : order.store === 'MYBE' ? 'bg-green-100 text-green-700' : order.store === 'CARA' ? 'bg-orange-100 text-orange-700' : 'bg-slate-100 text-slate-700'}`,\n                        children: order.store\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 394,\n                        columnNumber: 29\n                      }, this), order.diagramNumber && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"px-1.5 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-700\",\n                        children: [\"Shape \", order.diagramNumber]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 403,\n                        columnNumber: 31\n                      }, this), order.notes && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"px-1.5 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-700\",\n                        children: \"Notes\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 408,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 392,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-slate-600 text-sm\",\n                      children: order.customer.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 413,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-slate-500 text-xs\",\n                      children: order.orderDate\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 414,\n                      columnNumber: 27\n                    }, this), order.supplierName && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-slate-500 text-xs mt-1\",\n                      children: [\"\\u2192 \", order.supplierName]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 416,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-slate-500 text-xs mt-1\",\n                      children: order.mattressLabel\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 418,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `px-2 py-1 rounded text-xs ${order.emailSent ? 'bg-green-100 text-green-800' : order.status === 'ready_to_send' ? 'bg-yellow-100 text-yellow-800' : 'bg-grey-100 text-grey-800'}`,\n                      children: order.emailSent ? 'Sent' : order.status === 'ready_to_send' ? 'Ready' : 'Review'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 423,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 422,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 390,\n                  columnNumber: 23\n                }, this)\n              }, order.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 383,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2\",\n          children: selectedOrder ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow border\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 border-b bg-slate-50 flex justify-between items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  className: \"text-lg font-semibold\",\n                  children: \"Order Details\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-slate-600\",\n                  children: selectedOrder.orderNumber\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex gap-2\",\n                children: !editMode ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleEdit,\n                    className: \"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Edit3, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 456,\n                      columnNumber: 27\n                    }, this), \"Edit\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 452,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: generatePDF,\n                    className: \"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Download, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 463,\n                      columnNumber: 27\n                    }, this), \"Download PDF\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 459,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: async () => {\n                      await generatePDF();\n                      setTimeout(() => openZohoMail(), 500);\n                      await markOrderAsSent();\n                    },\n                    className: \"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Mail, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 474,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Download, {\n                      size: 14\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 475,\n                      columnNumber: 27\n                    }, this), \"Download and Email\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 466,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleSave,\n                    className: \"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(Save, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 485,\n                      columnNumber: 27\n                    }, this), \"Save\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 481,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: handleCancel,\n                    className: \"px-4 py-2 bg-slate-500 text-white rounded hover:bg-slate-600 flex items-center gap-2\",\n                    children: [/*#__PURE__*/_jsxDEV(X, {\n                      size: 16\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 492,\n                      columnNumber: 27\n                    }, this), \"Cancel\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 449,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-6 space-y-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border rounded-lg p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold mb-3\",\n                  children: \"Customer Notes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  value: selectedOrder.notes,\n                  onChange: e => updateOrderField('notes', e.target.value),\n                  disabled: !editMode,\n                  placeholder: \"No customer notes provided\",\n                  rows: 3,\n                  className: \"w-full px-3 py-2 border rounded disabled:bg-slate-100\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 504,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border rounded-lg p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold mb-3\",\n                  children: \"Order Information\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 515,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm text-slate-600 mb-1\",\n                      children: \"Order Number\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 518,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      value: selectedOrder.orderNumber,\n                      onChange: e => updateOrderField('orderNumber', e.target.value),\n                      disabled: !editMode,\n                      className: \"w-full px-3 py-2 border rounded disabled:bg-slate-100\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 519,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 517,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm text-slate-600 mb-1\",\n                      children: \"Order Date\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 528,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"date\",\n                      value: selectedOrder.orderDate,\n                      onChange: e => updateOrderField('orderDate', e.target.value),\n                      disabled: !editMode,\n                      className: \"w-full px-3 py-2 border rounded disabled:bg-slate-100\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 529,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 527,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 516,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 514,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border rounded-lg p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold mb-3\",\n                  children: \"Customer Information\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 541,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm text-slate-600 mb-1\",\n                      children: \"Customer Name\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 544,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      value: selectedOrder.customer.name,\n                      onChange: e => updateCustomerField('name', e.target.value),\n                      disabled: !editMode,\n                      className: \"w-full px-3 py-2 border rounded disabled:bg-slate-100\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 545,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 543,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm text-slate-600 mb-1\",\n                      children: \"Email\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 554,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"email\",\n                      value: selectedOrder.customer.email,\n                      onChange: e => updateCustomerField('email', e.target.value),\n                      disabled: !editMode,\n                      className: \"w-full px-3 py-2 border rounded disabled:bg-slate-100\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 555,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 553,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 542,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 540,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border rounded-lg p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold mb-3\",\n                  children: \"Product Information\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 567,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm text-slate-600 mb-1\",\n                      children: \"Supplier Code\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 570,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"text\",\n                      value: selectedOrder.supplierCode,\n                      onChange: e => updateOrderField('supplierCode', e.target.value),\n                      disabled: !editMode,\n                      className: \"w-full px-3 py-2 border rounded disabled:bg-slate-100 font-mono\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 571,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 569,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm text-slate-600 mb-1\",\n                      children: \"Quantity\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 580,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      value: ((_selectedOrder$lineIt = selectedOrder.lineItems[0]) === null || _selectedOrder$lineIt === void 0 ? void 0 : _selectedOrder$lineIt.quantity) || 1,\n                      onChange: e => updateOrderField('quantity', parseInt(e.target.value)),\n                      disabled: !editMode,\n                      className: \"w-full px-3 py-2 border rounded disabled:bg-slate-100\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 581,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 579,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 568,\n                  columnNumber: 21\n                }, this), selectedOrder.supplierName && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"mt-2 text-sm text-slate-600\",\n                  children: [\"Assigned to: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"font-medium\",\n                    children: selectedOrder.supplierName\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 592,\n                    columnNumber: 38\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 591,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 566,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border rounded-lg p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold mb-3\",\n                  children: \"Measurements & Shape Diagram\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 598,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-6\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"text-sm text-slate-600 mb-3\",\n                      children: \"Dimensions\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 602,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"space-y-2\",\n                      children: ['Dimension A', 'Dimension B', 'Dimension C', 'Dimension D', 'Dimension E', 'Dimension F', 'Dimension G'].map(dimension => {\n                        var _selectedOrder$lineIt2;\n                        const value = ((_selectedOrder$lineIt2 = selectedOrder.lineItems[0]) === null || _selectedOrder$lineIt2 === void 0 ? void 0 : _selectedOrder$lineIt2.properties[dimension]) || '';\n                        const hasValue = value && value !== '';\n                        return /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"flex items-center gap-2\",\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"w-6 text-sm font-medium text-center\",\n                            children: dimension.replace('Dimension ', '')\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 610,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"text\",\n                            value: value,\n                            onChange: e => updateMeasurement(dimension, e.target.value),\n                            disabled: !editMode,\n                            placeholder: \"Not provided\",\n                            className: `flex-1 px-3 py-2 border rounded disabled:bg-slate-100 font-mono ${hasValue ? 'text-slate-900' : 'text-slate-400'}`\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 613,\n                            columnNumber: 33\n                          }, this), hasValue && !editMode && /*#__PURE__*/_jsxDEV(\"span\", {\n                            className: \"text-xs text-green-600\",\n                            children: \"\\u2713\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 624,\n                            columnNumber: 35\n                          }, this)]\n                        }, dimension, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 609,\n                          columnNumber: 31\n                        }, this);\n                      })\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 603,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"mt-4 pt-4 border-t\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        className: \"text-sm text-slate-600 mb-3\",\n                        children: \"Additional Specifications\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 632,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"space-y-2\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"block text-sm text-slate-600 mb-1\",\n                            children: \"Radius of Top Corner\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 635,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"text\",\n                            disabled: !editMode,\n                            placeholder: \"Enter radius\",\n                            className: \"w-full px-3 py-2 border rounded disabled:bg-slate-100\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 636,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 634,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"block text-sm text-slate-600 mb-1\",\n                            children: \"Radius of Bottom Corner\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 644,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"text\",\n                            disabled: !editMode,\n                            placeholder: \"Enter radius\",\n                            className: \"w-full px-3 py-2 border rounded disabled:bg-slate-100\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 645,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 643,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                            className: \"block text-sm text-slate-600 mb-1\",\n                            children: \"Finished Size Must Not Exceed\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 653,\n                            columnNumber: 31\n                          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                            type: \"text\",\n                            disabled: !editMode,\n                            placeholder: \"Enter maximum size\",\n                            className: \"w-full px-3 py-2 border rounded disabled:bg-slate-100\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 654,\n                            columnNumber: 31\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 652,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 633,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 631,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 601,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                      className: \"text-sm text-slate-600 mb-3\",\n                      children: [\"Shape Diagram\", selectedOrder.diagramNumber && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"ml-2 px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-medium\",\n                        children: [\"Shape \", selectedOrder.diagramNumber]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 669,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 666,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"border rounded bg-slate-50\",\n                      style: {\n                        height: '500px'\n                      },\n                      children: selectedOrder.shapeDiagramUrl ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-full h-full\",\n                        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                          src: selectedOrder.shapeDiagramUrl,\n                          alt: `Shape ${selectedOrder.diagramNumber} Measuring Diagram`,\n                          className: \"w-full h-full object-contain\",\n                          onError: e => {\n                            console.error('Diagram failed to load:', selectedOrder.shapeDiagramUrl);\n                            e.target.style.display = 'none';\n                            e.target.nextSibling.style.display = 'flex';\n                          }\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 677,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"w-full h-full flex-col items-center justify-center text-slate-400 hidden\",\n                          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-sm mb-1\",\n                            children: \"Diagram failed to load\"\n                          }, void 0, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 688,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-xs\",\n                            children: [\"Shape #\", selectedOrder.diagramNumber]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 689,\n                            columnNumber: 33\n                          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                            className: \"text-xs mt-2 text-slate-300\",\n                            children: [\"Check: /images/diagrams/Shape_\", selectedOrder.diagramNumber, \"_Caravan_Mattress_Measuring_Diagram.jpg\"]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 690,\n                            columnNumber: 33\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 687,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 676,\n                        columnNumber: 29\n                      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"w-full h-full flex flex-col items-center justify-center text-slate-400\",\n                        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-sm mb-1\",\n                          children: selectedOrder.diagramNumber ? 'Diagram configured but not accessible' : 'No diagram specified'\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 697,\n                          columnNumber: 31\n                        }, this), selectedOrder.diagramNumber && /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-xs\",\n                          children: [\"Shape #\", selectedOrder.diagramNumber]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 701,\n                          columnNumber: 33\n                        }, this), !selectedOrder.diagramNumber && /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"text-xs mt-2 text-slate-300\",\n                          children: \"Diagram number not found in order properties\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 704,\n                          columnNumber: 33\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 696,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 674,\n                      columnNumber: 25\n                    }, this), editMode && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex gap-2 mt-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"flex-1 px-3 py-1 bg-blue-600 text-white rounded text-sm\",\n                        children: \"Upload\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 714,\n                        columnNumber: 29\n                      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                        className: \"flex-1 px-3 py-1 bg-slate-500 text-white rounded text-sm\",\n                        children: \"Generate\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 717,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 713,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 665,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 600,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 597,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border rounded-lg p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold mb-3\",\n                  children: \"Manufacturing Options\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 727,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"grid grid-cols-2 gap-4\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm text-slate-600 mb-1\",\n                      children: \"Link Attachment\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 730,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      value: selectedOrder.linkAttachment,\n                      onChange: e => updateOrderField('linkAttachment', e.target.value),\n                      disabled: !editMode,\n                      className: \"w-full px-3 py-2 border rounded disabled:bg-slate-100\",\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"One Piece Construction\",\n                        children: \"One Piece Mattress No Link Required\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 737,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"Leave Sections Loose\",\n                        children: \"Leave Sections Loose\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 738,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"Leave Bolster Loose\",\n                        children: \"Leave Bolster Loose\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 739,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"Fabric Link (+\\xA340)\",\n                        children: \"Fabric Link (+\\xA340)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 740,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"Zip-Link (+\\xA340)\",\n                        children: \"Zip-Link (+\\xA340)\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 741,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 731,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 729,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                      className: \"block text-sm text-slate-600 mb-1\",\n                      children: \"Delivery Option\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 745,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                      value: selectedOrder.deliveryOption,\n                      onChange: e => updateOrderField('deliveryOption', e.target.value),\n                      disabled: !editMode,\n                      className: \"w-full px-3 py-2 border rounded disabled:bg-slate-100\",\n                      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"Rolled and Boxed\",\n                        children: \"Rolled and Boxed\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 752,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: \"Full Size Ready to Use\",\n                        children: \"Full Size Ready to Use\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 753,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 746,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 744,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 728,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 726,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"border rounded-lg p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"font-semibold mb-3\",\n                  children: \"Mattress Label\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 760,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: selectedOrder.mattressLabel,\n                  onChange: e => updateOrderField('mattressLabel', e.target.value),\n                  disabled: !editMode,\n                  className: \"w-full px-3 py-2 border rounded disabled:bg-slate-100\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"CaravanMattresses\",\n                    children: \"Caravan Mattresses\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 767,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"MotorhomeMattresses\",\n                    children: \"Motorhome Mattresses\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 768,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"MyBespokeMattresses\",\n                    children: \"My Bespoke Mattresses\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 769,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 761,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 759,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-lg shadow border p-8 text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-slate-400\",\n              children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"mx-auto h-12 w-12 mb-4\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 1,\n                  d: \"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 779,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 778,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-medium text-slate-900 mb-2\",\n                children: \"Select an Order\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 781,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-slate-500\",\n                children: \"Choose an order from the list to view and edit its details.\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 782,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 777,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 776,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 335,\n    columnNumber: 5\n  }, this);\n};\n_s(OrderProcessor, \"oYPpmNA/BuusIICsPG//qWfDnL8=\");\n_c = OrderProcessor;\nexport default OrderProcessor;\nvar _c;\n$RefreshReg$(_c, \"OrderProcessor\");","map":{"version":3,"names":["React","useState","useEffect","Download","Mail","Edit3","Save","X","jsxDEV","_jsxDEV","Fragment","_Fragment","OrderProcessor","_s","_selectedOrder$lineIt","orders","setOrders","selectedOrder","setSelectedOrder","editMode","setEditMode","searchTerm","setSearchTerm","loading","setLoading","error","setError","getDiagramImageUrl","diagramNumber","transformApiOrder","apiOrder","_apiOrder$order_data","_apiOrder$order_data$","_apiOrder$order_numbe","_apiOrder$order_numbe2","_apiOrder$order_numbe3","_apiOrder$order_numbe4","_apiOrder$order_data2","_apiOrder$order_data3","_apiOrder$order_data4","_apiOrder$order_data5","_lineItems$","_lineItems$2","orderData","order_data","lineItems","line_items","properties","diagramProperty","find","prop","name","value","linkAttachment","deliveryOption","variant_title","variantTitle","productTitle","title","includes","toLowerCase","store","mattress_label","order_number","measurements","extracted_measurements","dimensions","forEach","dim","measurement","displayValue","unit","String","id","toString","orderNumber","customer","customer_name","email","customer_email","orderDate","created_date","Date","toISOString","split","status","processing_status","emailSent","email_sent","sku","quantity","supplierCode","supplierSpecification","shapeNumber","shapeDiagramUrl","totalPrice","total_price","supplierName","supplier_name","rawMeasurements","notes","mattressLabel","fetchOrders","response","fetch","ok","Error","apiResponse","json","ordersArray","transformedOrders","map","err","console","message","interval","setInterval","clearInterval","handleOrderSelect","order","handleEdit","handleSave","method","headers","body","JSON","stringify","alert","handleCancel","originalOrder","updateOrderField","field","prev","updateCustomerField","updateMeasurement","dimension","item","generatePDF","log","blob","url","window","URL","createObjectURL","a","document","createElement","href","download","replace","appendChild","click","removeChild","revokeObjectURL","getSupplierEmail","supplierEmails","openZohoMail","supplierEmail","subject","zohoUrl","encodeURIComponent","open","markOrderAsSent","filteredOrders","filter","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","length","type","placeholder","onChange","e","target","size","setTimeout","disabled","rows","parseInt","_selectedOrder$lineIt2","hasValue","style","height","src","alt","onError","display","nextSibling","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","_c","$RefreshReg$"],"sources":["C:/Users/Angelo/shopify-mattress-processor/client/src/components/OrderProcessor.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Download, Mail, Edit3, Save, X } from 'lucide-react';\r\n\r\nconst OrderProcessor = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [selectedOrder, setSelectedOrder] = useState(null);\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  const getDiagramImageUrl = (diagramNumber) => {\r\n    if (!diagramNumber) return null;\r\n    return `/images/diagrams/Shape_${diagramNumber}_Caravan_Mattress_Measuring_Diagram.jpg`;\r\n  };\r\n\r\n  const transformApiOrder = (apiOrder) => {\r\n    const orderData = apiOrder.order_data || {};\r\n    \r\n    let diagramNumber = null;\r\n    const lineItems = apiOrder.order_data?.order_data?.line_items;\r\n    if (lineItems && lineItems[0] && lineItems[0].properties) {\r\n      const diagramProperty = lineItems[0].properties.find(prop => prop.name === 'Diagram Number');\r\n      diagramNumber = diagramProperty ? diagramProperty.value : null;\r\n    }\r\n\r\n    let linkAttachment = 'One Piece Mattress No Link Required';\r\n    let deliveryOption = 'Rolled and Boxed';\r\n    \r\n    if (lineItems && lineItems[0] && lineItems[0].variant_title) {\r\n      const variantTitle = lineItems[0].variant_title;\r\n      const productTitle = lineItems[0].title || lineItems[0].name || '';\r\n      \r\n      if (variantTitle.includes('Leave Bolster Loose')) {\r\n        linkAttachment = 'Leave Bolster Loose';\r\n      } else if (variantTitle.includes('Leave Sections Loose')) {\r\n        linkAttachment = 'Leave Sections Loose';\r\n      } else if (variantTitle.includes('Fabric Link')) {\r\n        linkAttachment = 'Fabric Link (+£40)';\r\n      } else if (variantTitle.includes('Zip-Link')) {\r\n        linkAttachment = 'Zip-Link (+£40)';\r\n      } else {\r\n        if (productTitle.toLowerCase().includes('bolster')) {\r\n          linkAttachment = 'Leave Bolster Loose';\r\n        } else if (productTitle.toLowerCase().includes('section')) {\r\n          linkAttachment = 'Leave Sections Loose';\r\n        } else {\r\n          linkAttachment = 'One Piece Mattress No Link Required';\r\n        }\r\n      }\r\n    }\r\n\r\n    let store = 'UNKNOWN';\r\n    if (apiOrder.mattress_label === 'Motorhome Mattresses') store = 'MOTO';\r\n    else if (apiOrder.mattress_label === 'My Bespoke Mattresses') store = 'MYBE';\r\n    else if (apiOrder.mattress_label === 'Caravan Mattresses') store = 'CARA';\r\n    else if (apiOrder.mattress_label === 'MotorhomeMattresses') store = 'MOTO';\r\n    else if (apiOrder.mattress_label === 'MyBespokeMattresses') store = 'MYBE';\r\n    else if (apiOrder.mattress_label === 'CaravanMattresses') store = 'CARA';\r\n    else if (apiOrder.order_number?.includes('MOTO')) store = 'MOTO';\r\n    else if (apiOrder.order_number?.includes('MYBE')) store = 'MYBE'; \r\n    else if (apiOrder.order_number?.includes('CARA')) store = 'CARA';\r\n    else if (apiOrder.order_number?.includes('BESP')) store = 'MYBE';\r\n\r\n    const measurements = apiOrder.order_data?.order_data?.extracted_measurements?.[0]?.measurements || {};\r\n    \r\n    const properties = {};\r\n    const dimensions = ['A', 'B', 'C', 'D', 'E', 'F', 'G'];\r\n    \r\n    dimensions.forEach(dim => {\r\n      const measurement = measurements[dim];\r\n      if (measurement) {\r\n        if (typeof measurement === 'object' && 'value' in measurement) {\r\n          const displayValue = measurement.unit \r\n            ? `${measurement.value} ${measurement.unit}`\r\n            : measurement.value;\r\n          properties[`Dimension ${dim}`] = displayValue;\r\n        } else {\r\n          properties[`Dimension ${dim}`] = String(measurement);\r\n        }\r\n      } else {\r\n        properties[`Dimension ${dim}`] = '';\r\n      }\r\n    });\r\n\r\n    return {\r\n      id: apiOrder.id.toString(),\r\n      store: store,\r\n      orderNumber: apiOrder.order_number || 'Unknown',\r\n      customer: {\r\n        name: apiOrder.customer_name || 'Unknown Customer',\r\n        email: apiOrder.customer_email || ''\r\n      },\r\n      orderDate: apiOrder.created_date ? new Date(apiOrder.created_date).toISOString().split('T')[0] : '',\r\n      status: apiOrder.processing_status === 'received' ? 'pending_review' : 'ready_to_send',\r\n      emailSent: apiOrder.email_sent || false,\r\n      lineItems: [{\r\n        sku: orderData.sku || lineItems?.[0]?.sku || 'Unknown SKU',\r\n        productTitle: lineItems?.[0]?.title || 'Unknown Product',\r\n        quantity: 1,\r\n        properties: properties\r\n      }],\r\n      supplierCode: orderData.supplierSpecification || '',\r\n      shapeNumber: orderData.shapeNumber || '',\r\n      diagramNumber: diagramNumber,\r\n      shapeDiagramUrl: getDiagramImageUrl(diagramNumber),\r\n      linkAttachment: linkAttachment,\r\n      deliveryOption: deliveryOption,\r\n      totalPrice: apiOrder.total_price,\r\n      supplierName: apiOrder.supplier_name || orderData.supplierName,\r\n      rawMeasurements: measurements,\r\n      notes: apiOrder.notes || '',\r\n      mattressLabel: apiOrder.mattress_label || 'CaravanMattresses'\r\n    };\r\n  };\r\n\r\n  const fetchOrders = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const response = await fetch('/api/orders');\r\n      if (!response.ok) {\r\n        throw new Error(`Failed to fetch orders: ${response.status}`);\r\n      }\r\n      \r\n      const apiResponse = await response.json();\r\n      const ordersArray = apiResponse.orders || [];\r\n      const transformedOrders = ordersArray.map(transformApiOrder);\r\n      setOrders(transformedOrders);\r\n      \r\n    } catch (err) {\r\n      console.error('Error fetching orders:', err);\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchOrders();\r\n    const interval = setInterval(fetchOrders, 30000);\r\n    return () => clearInterval(interval);\r\n  }, []);\r\n\r\n  const handleOrderSelect = (order) => {\r\n    if (selectedOrder?.id === order.id) {\r\n      setSelectedOrder(null);\r\n      setEditMode(false);\r\n    } else {\r\n      setSelectedOrder({ ...order });\r\n      setEditMode(false);\r\n    }\r\n  };\r\n\r\n  const handleEdit = () => setEditMode(true);\r\n  \r\n  const handleSave = async () => {\r\n    try {\r\n      const response = await fetch(`/api/orders/${selectedOrder.id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          processing_status: selectedOrder.status === 'ready_to_send' ? 'processed' : 'received',\r\n          notes: selectedOrder.notes,\r\n          mattress_label: selectedOrder.mattressLabel\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to update order');\r\n      }\r\n\r\n      setOrders(orders.map(order => \r\n        order.id === selectedOrder.id ? selectedOrder : order\r\n      ));\r\n      setEditMode(false);\r\n      \r\n    } catch (err) {\r\n      console.error('Error saving order:', err);\r\n      alert('Failed to save order changes');\r\n    }\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    const originalOrder = orders.find(order => order.id === selectedOrder.id);\r\n    setSelectedOrder({ ...originalOrder });\r\n    setEditMode(false);\r\n  };\r\n\r\n  const updateOrderField = (field, value) => {\r\n    setSelectedOrder(prev => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const updateCustomerField = (field, value) => {\r\n    setSelectedOrder(prev => ({\r\n      ...prev,\r\n      customer: { ...prev.customer, [field]: value }\r\n    }));\r\n  };\r\n\r\n  const updateMeasurement = (dimension, value) => {\r\n    setSelectedOrder(prev => ({\r\n      ...prev,\r\n      lineItems: prev.lineItems.map(item => ({\r\n        ...item,\r\n        properties: { ...item.properties, [dimension]: value }\r\n      }))\r\n    }));\r\n  };\r\n\r\n  const generatePDF = async () => {\r\n    try {\r\n      console.log('Generating PDF for order:', selectedOrder.orderNumber);\r\n      \r\n      const response = await fetch('/api/pdf/generate', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          order: selectedOrder\r\n        })\r\n      });\r\n\r\n      if (!response.ok) {\r\n        throw new Error('Failed to generate PDF');\r\n      }\r\n\r\n      const blob = await response.blob();\r\n      const url = window.URL.createObjectURL(blob);\r\n      const a = document.createElement('a');\r\n      a.href = url;\r\n      a.download = `Order_${selectedOrder.orderNumber}_${selectedOrder.customer.name.replace(/\\s+/g, '_')}.pdf`;\r\n      document.body.appendChild(a);\r\n      a.click();\r\n      document.body.removeChild(a);\r\n      window.URL.revokeObjectURL(url);\r\n      \r\n    } catch (err) {\r\n      console.error('Error generating PDF:', err);\r\n      alert('Failed to generate PDF');\r\n    }\r\n  };\r\n\r\n    const getSupplierEmail = (supplierName) => {\r\n        const supplierEmails = {\r\n            'Southern Production': 'mbm@southernfoam.co.uk',\r\n            'Mattressshire Production': 'mattressshire.wmltd@gmail.com'\r\n        };\r\n        \r\n        return supplierEmails[supplierName] || 'orders@bespokemattresscompany.com';\r\n        };\r\n\r\n    const openZohoMail = () => {\r\n        console.log('Supplier name:', selectedOrder.supplierName);\r\n        const supplierEmail = getSupplierEmail(selectedOrder.supplierName);\r\n        const subject = `Purchase Order ${selectedOrder.orderNumber} - ${selectedOrder.customer.name}`;\r\n        \r\n        const zohoUrl = `https://mail.zoho.com/zm/#compose?to=${encodeURIComponent(supplierEmail)}&subject=${encodeURIComponent(subject)}`;\r\n        window.open(zohoUrl, '_blank');\r\n        alert('Zoho Mail opened with supplier details pre-filled. Please attach PDF and send.');\r\n        };\r\n\r\n        const markOrderAsSent = async () => {\r\n        console.log('=== markOrderAsSent DEBUG ===');\r\n        console.log('selectedOrder:', selectedOrder);\r\n        console.log('selectedOrder.id:', selectedOrder?.id);\r\n        \r\n        if (!selectedOrder?.id) {\r\n            console.log('ERROR: No order ID found!');\r\n            return;\r\n        }\r\n        \r\n        try {\r\n            console.log('About to make PUT request to:', `/api/orders/${selectedOrder.id}`);\r\n            const response = await fetch(`/api/orders/${selectedOrder.id}`, {\r\n            method: 'PUT',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ email_sent: true })\r\n            });\r\n            \r\n            console.log('Response status:', response.status);\r\n            console.log('Response ok:', response.ok);\r\n            \r\n            if (response.ok) {\r\n            console.log('Database update successful');\r\n            setOrders(orders.map(order => \r\n                order.id === selectedOrder.id ? { ...order, emailSent: true } : order\r\n            ));\r\n            setSelectedOrder(prev => ({ ...prev, emailSent: true }));\r\n            } else {\r\n            console.log('Database update failed');\r\n            }\r\n        } catch (err) {\r\n            console.error('Error in markOrderAsSent:', err);\r\n        }\r\n        };\r\n\r\n  const filteredOrders = orders.filter(order =>\r\n    order.orderNumber.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    order.customer.name.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-slate-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto\"></div>\r\n          <p className=\"mt-2 text-slate-600\">Loading orders...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"min-h-screen bg-slate-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-red-600 mb-4\">Error loading orders: {error}</p>\r\n          <button \r\n            onClick={fetchOrders}\r\n            className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700\"\r\n          >\r\n            Retry\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-slate-50\">\r\n      <div className=\"bg-white border-b shadow-sm\">\r\n        <div className=\"max-w-7xl mx-auto px-6 py-4\">\r\n          <div className=\"flex justify-between items-center\">\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold text-slate-900\">\r\n                Bespoke Mattress Order Processor\r\n              </h1>\r\n              <p className=\"text-slate-600 mt-1\">\r\n                Review and process Shopify orders before sending to suppliers\r\n              </p>\r\n            </div>\r\n            <div className=\"text-sm text-slate-500\">\r\n              {orders.length} orders loaded\r\n              <button \r\n                onClick={fetchOrders}\r\n                className=\"ml-2 px-3 py-1 bg-blue-100 text-blue-700 rounded text-xs hover:bg-blue-200\"\r\n              >\r\n                Refresh\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"max-w-7xl mx-auto p-6\">\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n          \r\n          <div className=\"lg:col-span-1\">\r\n            <div className=\"bg-white rounded-lg shadow border\">\r\n              <div className=\"p-4 border-b bg-slate-50\">\r\n                <h2 className=\"text-lg font-semibold mb-3\">Orders Queue</h2>\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search orders...\"\r\n                  className=\"w-full px-3 py-2 border rounded-lg\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                />\r\n              </div>\r\n              \r\n              <div className=\"max-h-96 overflow-y-auto\">\r\n                {filteredOrders.length === 0 ? (\r\n                  <div className=\"p-4 text-center text-slate-500\">\r\n                    {searchTerm ? 'No orders match your search' : 'No orders found'}\r\n                  </div>\r\n                ) : (\r\n                  filteredOrders.map((order) => (\r\n                    <div\r\n                      key={order.id}\r\n                      className={`p-4 border-b cursor-pointer hover:bg-slate-50 ${\r\n                        selectedOrder?.id === order.id ? 'bg-blue-50' : ''\r\n                      }`}\r\n                      onClick={() => handleOrderSelect(order)}\r\n                    >\r\n                      <div className=\"flex justify-between items-start\">\r\n                        <div className=\"flex-1\">\r\n                          <div className=\"flex items-center gap-2 mb-1\">\r\n                            <span className=\"font-semibold text-sm\">{order.orderNumber}</span>\r\n                            <span className={`px-1.5 py-0.5 rounded text-xs font-medium ${\r\n                              order.store === 'MOTO' ? 'bg-purple-100 text-purple-700' :\r\n                              order.store === 'MYBE' ? 'bg-green-100 text-green-700' :\r\n                              order.store === 'CARA' ? 'bg-orange-100 text-orange-700' :\r\n                              'bg-slate-100 text-slate-700'\r\n                            }`}>\r\n                              {order.store}\r\n                            </span>\r\n                            {order.diagramNumber && (\r\n                              <span className=\"px-1.5 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-700\">\r\n                                Shape {order.diagramNumber}\r\n                              </span>\r\n                            )}\r\n                            {order.notes && (\r\n                              <span className=\"px-1.5 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-700\">\r\n                                Notes\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                          <div className=\"text-slate-600 text-sm\">{order.customer.name}</div>\r\n                          <div className=\"text-slate-500 text-xs\">{order.orderDate}</div>\r\n                          {order.supplierName && (\r\n                            <div className=\"text-slate-500 text-xs mt-1\">→ {order.supplierName}</div>\r\n                          )}\r\n                          <div className=\"text-slate-500 text-xs mt-1\">\r\n                            {order.mattressLabel}\r\n                          </div>\r\n                        </div>\r\n                        <div>\r\n                          <span className={`px-2 py-1 rounded text-xs ${\r\n                            order.emailSent \r\n                                ? 'bg-green-100 text-green-800'\r\n                                : order.status === 'ready_to_send' \r\n                                ? 'bg-yellow-100 text-yellow-800'\r\n                                : 'bg-grey-100 text-grey-800'\r\n                            }`}>\r\n                            {order.emailSent ? 'Sent' : (order.status === 'ready_to_send' ? 'Ready' : 'Review')}\r\n                            </span>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  ))\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"lg:col-span-2\">\r\n            {selectedOrder ? (\r\n              <div className=\"bg-white rounded-lg shadow border\">\r\n                <div className=\"p-4 border-b bg-slate-50 flex justify-between items-center\">\r\n                  <div>\r\n                    <h2 className=\"text-lg font-semibold\">Order Details</h2>\r\n                    <p className=\"text-sm text-slate-600\">{selectedOrder.orderNumber}</p>\r\n                  </div>\r\n                  <div className=\"flex gap-2\">\r\n                    {!editMode ? (\r\n                      <>\r\n                        <button\r\n                          onClick={handleEdit}\r\n                          className=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-2\"\r\n                        >\r\n                          <Edit3 size={16} />\r\n                          Edit\r\n                        </button>\r\n                        <button\r\n                          onClick={generatePDF}\r\n                          className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 flex items-center gap-2\"\r\n                        >\r\n                          <Download size={16} />\r\n                          Download PDF\r\n                        </button>\r\n                        <button\r\n                        onClick={async () => {\r\n                            await generatePDF();\r\n                            setTimeout(() => openZohoMail(), 500);\r\n                            await markOrderAsSent();\r\n                        }}\r\n                        className=\"px-4 py-2 bg-orange-600 text-white rounded hover:bg-orange-700 flex items-center gap-2\"\r\n                        >\r\n                          <Mail size={16} />\r\n                          <Download size={14} />\r\n                          Download and Email\r\n                        </button>\r\n                      </>\r\n                    ) : (\r\n                      <>\r\n                        <button\r\n                          onClick={handleSave}\r\n                          className=\"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 flex items-center gap-2\"\r\n                        >\r\n                          <Save size={16} />\r\n                          Save\r\n                        </button>\r\n                        <button\r\n                          onClick={handleCancel}\r\n                          className=\"px-4 py-2 bg-slate-500 text-white rounded hover:bg-slate-600 flex items-center gap-2\"\r\n                        >\r\n                          <X size={16} />\r\n                          Cancel\r\n                        </button>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"p-6 space-y-6\">\r\n                  \r\n                  <div className=\"border rounded-lg p-4\">\r\n                    <h3 className=\"font-semibold mb-3\">Customer Notes</h3>\r\n                    <textarea\r\n                      value={selectedOrder.notes}\r\n                      onChange={(e) => updateOrderField('notes', e.target.value)}\r\n                      disabled={!editMode}\r\n                      placeholder=\"No customer notes provided\"\r\n                      rows={3}\r\n                      className=\"w-full px-3 py-2 border rounded disabled:bg-slate-100\"\r\n                    />\r\n                  </div>\r\n              \r\n                  <div className=\"border rounded-lg p-4\">\r\n                    <h3 className=\"font-semibold mb-3\">Order Information</h3>\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                      <div>\r\n                        <label className=\"block text-sm text-slate-600 mb-1\">Order Number</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={selectedOrder.orderNumber}\r\n                          onChange={(e) => updateOrderField('orderNumber', e.target.value)}\r\n                          disabled={!editMode}\r\n                          className=\"w-full px-3 py-2 border rounded disabled:bg-slate-100\"\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm text-slate-600 mb-1\">Order Date</label>\r\n                        <input\r\n                          type=\"date\"\r\n                          value={selectedOrder.orderDate}\r\n                          onChange={(e) => updateOrderField('orderDate', e.target.value)}\r\n                          disabled={!editMode}\r\n                          className=\"w-full px-3 py-2 border rounded disabled:bg-slate-100\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"border rounded-lg p-4\">\r\n                    <h3 className=\"font-semibold mb-3\">Customer Information</h3>\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                      <div>\r\n                        <label className=\"block text-sm text-slate-600 mb-1\">Customer Name</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={selectedOrder.customer.name}\r\n                          onChange={(e) => updateCustomerField('name', e.target.value)}\r\n                          disabled={!editMode}\r\n                          className=\"w-full px-3 py-2 border rounded disabled:bg-slate-100\"\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm text-slate-600 mb-1\">Email</label>\r\n                        <input\r\n                          type=\"email\"\r\n                          value={selectedOrder.customer.email}\r\n                          onChange={(e) => updateCustomerField('email', e.target.value)}\r\n                          disabled={!editMode}\r\n                          className=\"w-full px-3 py-2 border rounded disabled:bg-slate-100\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"border rounded-lg p-4\">\r\n                    <h3 className=\"font-semibold mb-3\">Product Information</h3>\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                      <div>\r\n                        <label className=\"block text-sm text-slate-600 mb-1\">Supplier Code</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={selectedOrder.supplierCode}\r\n                          onChange={(e) => updateOrderField('supplierCode', e.target.value)}\r\n                          disabled={!editMode}\r\n                          className=\"w-full px-3 py-2 border rounded disabled:bg-slate-100 font-mono\"\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm text-slate-600 mb-1\">Quantity</label>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={selectedOrder.lineItems[0]?.quantity || 1}\r\n                          onChange={(e) => updateOrderField('quantity', parseInt(e.target.value))}\r\n                          disabled={!editMode}\r\n                          className=\"w-full px-3 py-2 border rounded disabled:bg-slate-100\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    {selectedOrder.supplierName && (\r\n                      <div className=\"mt-2 text-sm text-slate-600\">\r\n                        Assigned to: <span className=\"font-medium\">{selectedOrder.supplierName}</span>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  <div className=\"border rounded-lg p-4\">\r\n                    <h3 className=\"font-semibold mb-3\">Measurements & Shape Diagram</h3>\r\n                    \r\n                    <div className=\"grid grid-cols-2 gap-6\">\r\n                      <div>\r\n                        <h4 className=\"text-sm text-slate-600 mb-3\">Dimensions</h4>\r\n                        <div className=\"space-y-2\">\r\n                          {['Dimension A', 'Dimension B', 'Dimension C', 'Dimension D', 'Dimension E', 'Dimension F', 'Dimension G'].map((dimension) => {\r\n                            const value = selectedOrder.lineItems[0]?.properties[dimension] || '';\r\n                            const hasValue = value && value !== '';\r\n                            \r\n                            return (\r\n                              <div key={dimension} className=\"flex items-center gap-2\">\r\n                                <label className=\"w-6 text-sm font-medium text-center\">\r\n                                  {dimension.replace('Dimension ', '')}\r\n                                </label>\r\n                                <input\r\n                                  type=\"text\"\r\n                                  value={value}\r\n                                  onChange={(e) => updateMeasurement(dimension, e.target.value)}\r\n                                  disabled={!editMode}\r\n                                  placeholder=\"Not provided\"\r\n                                  className={`flex-1 px-3 py-2 border rounded disabled:bg-slate-100 font-mono ${\r\n                                    hasValue ? 'text-slate-900' : 'text-slate-400'\r\n                                  }`}\r\n                                />\r\n                                {hasValue && !editMode && (\r\n                                  <span className=\"text-xs text-green-600\">✓</span>\r\n                                )}\r\n                              </div>\r\n                            );\r\n                          })}\r\n                        </div>\r\n\r\n                        <div className=\"mt-4 pt-4 border-t\">\r\n                          <h4 className=\"text-sm text-slate-600 mb-3\">Additional Specifications</h4>\r\n                          <div className=\"space-y-2\">\r\n                            <div>\r\n                              <label className=\"block text-sm text-slate-600 mb-1\">Radius of Top Corner</label>\r\n                              <input\r\n                                type=\"text\"\r\n                                disabled={!editMode}\r\n                                placeholder=\"Enter radius\"\r\n                                className=\"w-full px-3 py-2 border rounded disabled:bg-slate-100\"\r\n                              />\r\n                            </div>\r\n                            <div>\r\n                              <label className=\"block text-sm text-slate-600 mb-1\">Radius of Bottom Corner</label>\r\n                              <input\r\n                                type=\"text\"\r\n                                disabled={!editMode}\r\n                                placeholder=\"Enter radius\"\r\n                                className=\"w-full px-3 py-2 border rounded disabled:bg-slate-100\"\r\n                              />\r\n                            </div>\r\n                            <div>\r\n                              <label className=\"block text-sm text-slate-600 mb-1\">Finished Size Must Not Exceed</label>\r\n                              <input\r\n                                type=\"text\"\r\n                                disabled={!editMode}\r\n                                placeholder=\"Enter maximum size\"\r\n                                className=\"w-full px-3 py-2 border rounded disabled:bg-slate-100\"\r\n                              />\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n\r\n                      <div>\r\n                        <h4 className=\"text-sm text-slate-600 mb-3\">\r\n                          Shape Diagram\r\n                          {selectedOrder.diagramNumber && (\r\n                            <span className=\"ml-2 px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs font-medium\">\r\n                              Shape {selectedOrder.diagramNumber}\r\n                            </span>\r\n                          )}\r\n                        </h4>\r\n                        <div className=\"border rounded bg-slate-50\" style={{height: '500px'}}>\r\n                          {selectedOrder.shapeDiagramUrl ? (\r\n                            <div className=\"w-full h-full\">\r\n                              <img \r\n                                src={selectedOrder.shapeDiagramUrl} \r\n                                alt={`Shape ${selectedOrder.diagramNumber} Measuring Diagram`}\r\n                                className=\"w-full h-full object-contain\"\r\n                                onError={(e) => {\r\n                                  console.error('Diagram failed to load:', selectedOrder.shapeDiagramUrl);\r\n                                  e.target.style.display = 'none';\r\n                                  e.target.nextSibling.style.display = 'flex';\r\n                                }}\r\n                              />\r\n                              <div className=\"w-full h-full flex-col items-center justify-center text-slate-400 hidden\">\r\n                                <div className=\"text-sm mb-1\">Diagram failed to load</div>\r\n                                <div className=\"text-xs\">Shape #{selectedOrder.diagramNumber}</div>\r\n                                <div className=\"text-xs mt-2 text-slate-300\">\r\n                                  Check: /images/diagrams/Shape_{selectedOrder.diagramNumber}_Caravan_Mattress_Measuring_Diagram.jpg\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          ) : (\r\n                            <div className=\"w-full h-full flex flex-col items-center justify-center text-slate-400\">\r\n                              <div className=\"text-sm mb-1\">\r\n                                {selectedOrder.diagramNumber ? 'Diagram configured but not accessible' : 'No diagram specified'}\r\n                              </div>\r\n                              {selectedOrder.diagramNumber && (\r\n                                <div className=\"text-xs\">Shape #{selectedOrder.diagramNumber}</div>\r\n                              )}\r\n                              {!selectedOrder.diagramNumber && (\r\n                                <div className=\"text-xs mt-2 text-slate-300\">\r\n                                  Diagram number not found in order properties\r\n                                </div>\r\n                              )}\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                        \r\n                        {editMode && (\r\n                          <div className=\"flex gap-2 mt-2\">\r\n                            <button className=\"flex-1 px-3 py-1 bg-blue-600 text-white rounded text-sm\">\r\n                              Upload\r\n                            </button>\r\n                            <button className=\"flex-1 px-3 py-1 bg-slate-500 text-white rounded text-sm\">\r\n                              Generate\r\n                            </button>\r\n                          </div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"border rounded-lg p-4\">\r\n                    <h3 className=\"font-semibold mb-3\">Manufacturing Options</h3>\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                      <div>\r\n                        <label className=\"block text-sm text-slate-600 mb-1\">Link Attachment</label>\r\n                        <select\r\n                          value={selectedOrder.linkAttachment}\r\n                          onChange={(e) => updateOrderField('linkAttachment', e.target.value)}\r\n                          disabled={!editMode}\r\n                          className=\"w-full px-3 py-2 border rounded disabled:bg-slate-100\"\r\n                        >\r\n                          <option value=\"One Piece Construction\">One Piece Mattress No Link Required</option>\r\n                          <option value=\"Leave Sections Loose\">Leave Sections Loose</option>\r\n                          <option value=\"Leave Bolster Loose\">Leave Bolster Loose</option>\r\n                          <option value=\"Fabric Link (+£40)\">Fabric Link (+£40)</option>\r\n                          <option value=\"Zip-Link (+£40)\">Zip-Link (+£40)</option>\r\n                        </select>\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm text-slate-600 mb-1\">Delivery Option</label>\r\n                        <select\r\n                          value={selectedOrder.deliveryOption}\r\n                          onChange={(e) => updateOrderField('deliveryOption', e.target.value)}\r\n                          disabled={!editMode}\r\n                          className=\"w-full px-3 py-2 border rounded disabled:bg-slate-100\"\r\n                        >\r\n                          <option value=\"Rolled and Boxed\">Rolled and Boxed</option>\r\n                          <option value=\"Full Size Ready to Use\">Full Size Ready to Use</option>\r\n                        </select>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"border rounded-lg p-4\">\r\n                    <h3 className=\"font-semibold mb-3\">Mattress Label</h3>\r\n                    <select\r\n                      value={selectedOrder.mattressLabel}\r\n                      onChange={(e) => updateOrderField('mattressLabel', e.target.value)}\r\n                      disabled={!editMode}\r\n                      className=\"w-full px-3 py-2 border rounded disabled:bg-slate-100\"\r\n                    >\r\n                      <option value=\"CaravanMattresses\">Caravan Mattresses</option>\r\n                      <option value=\"MotorhomeMattresses\">Motorhome Mattresses</option>\r\n                      <option value=\"MyBespokeMattresses\">My Bespoke Mattresses</option>\r\n                    </select>\r\n                  </div>\r\n\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <div className=\"bg-white rounded-lg shadow border p-8 text-center\">\r\n                <div className=\"text-slate-400\">\r\n                  <svg className=\"mx-auto h-12 w-12 mb-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={1} d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" />\r\n                  </svg>\r\n                  <h3 className=\"text-lg font-medium text-slate-900 mb-2\">Select an Order</h3>\r\n                  <p className=\"text-slate-500\">Choose an order from the list to view and edit its details.</p>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderProcessor;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}